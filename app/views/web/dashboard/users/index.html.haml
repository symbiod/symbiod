%h2 Users Management
.table-responsive
  %table.table.table-striped.table-sm
    %thead
      %tr
        %th= t('dashboard.users.table.email')
        %th= t('dashboard.users.table.full_name')
        %th= t('dashboard.users.table.roles')
        %th= t('dashboard.users.table.primary_skill')
        %th= t('dashboard.users.table.status')
        %th= t('dashboard.users.table.progress')
        %th= t('dashboard.users.table.applicants')
      - @users.each do |user|
        %tr
          %td= link_to user.email, dashboard_user_url(user)
          %td= user.full_name
          %td
            %ul.list-unstyled
              - user.roles.each do |role|
                %li
                  = role.name
          %td= user.primary_skill&.title
          %td
            = cell(Developer::Dashboard::UserStatusButton, user)
          %td.col-md-2
            = cell(Developer::Dashboard::DisplayProgress, user)
          %td
            - if policy(:test_task_assignment).review?(user)
              = link_to t('dashboard.users.link.review_applicant'), dashboard_test_task_assignment_url(user),
                                                                    class: 'btn btn-info btn-sm'
= paginate @users
